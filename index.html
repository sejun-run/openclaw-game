<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì¸í”„ë¼ ë§ˆìŠ¤í„° - AI ì‹œëŒ€ í•„ìˆ˜ ì§€ì‹</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      background: #0d1117;
      color: #c9d1d9;
      font-family: 'Consolas', 'Monaco', monospace;
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
    }
    
    header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      border: 1px solid #30363d;
      border-radius: 10px;
      background: #161b22;
    }
    
    h1 {
      color: #58a6ff;
      font-size: 2em;
      margin-bottom: 10px;
    }
    
    .subtitle {
      color: #8b949e;
      font-size: 0.9em;
    }
    
    .game-area {
      display: grid;
      grid-template-columns: 1fr 300px;
      gap: 20px;
    }
    
    @media (max-width: 768px) {
      .game-area { grid-template-columns: 1fr; }
    }
    
    .terminal {
      background: #0d1117;
      border: 1px solid #30363d;
      border-radius: 10px;
      overflow: hidden;
    }
    
    .terminal-header {
      background: #161b22;
      padding: 10px 15px;
      display: flex;
      align-items: center;
      gap: 8px;
      border-bottom: 1px solid #30363d;
    }
    
    .terminal-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }
    
    .dot-red { background: #ff5f56; }
    .dot-yellow { background: #ffbd2e; }
    .dot-green { background: #27ca40; }
    
    .terminal-title {
      color: #8b949e;
      font-size: 0.85em;
      margin-left: 10px;
    }
    
    .terminal-body {
      padding: 15px;
      height: 400px;
      overflow-y: auto;
    }
    
    .output-line {
      margin-bottom: 8px;
      line-height: 1.5;
    }
    
    .output-line.success { color: #3fb950; }
    .output-line.error { color: #f85149; }
    .output-line.info { color: #58a6ff; }
    .output-line.warning { color: #d29922; }
    .output-line.system { color: #8b949e; }
    
    .input-area {
      display: flex;
      align-items: center;
      padding: 10px 15px;
      border-top: 1px solid #30363d;
      background: #161b22;
    }
    
    .prompt {
      color: #3fb950;
      margin-right: 10px;
    }
    
    #command-input {
      flex: 1;
      background: transparent;
      border: none;
      color: #c9d1d9;
      font-family: inherit;
      font-size: 1em;
      outline: none;
    }
    
    .sidebar {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .panel {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 10px;
      padding: 15px;
    }
    
    .panel-title {
      color: #58a6ff;
      font-size: 0.9em;
      margin-bottom: 12px;
      padding-bottom: 8px;
      border-bottom: 1px solid #30363d;
    }
    
    .status-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 0.85em;
    }
    
    .status-label { color: #8b949e; }
    .status-value { color: #c9d1d9; }
    .status-value.online { color: #3fb950; }
    .status-value.offline { color: #f85149; }
    
    .mission {
      font-size: 0.9em;
      line-height: 1.6;
    }
    
    .mission-title {
      color: #d29922;
      margin-bottom: 8px;
    }
    
    .hint {
      background: #1f2428;
      padding: 10px;
      border-radius: 5px;
      margin-top: 10px;
      font-size: 0.85em;
      color: #8b949e;
    }
    
    .hint code {
      background: #30363d;
      padding: 2px 6px;
      border-radius: 3px;
      color: #f0883e;
    }
    
    .progress-bar {
      height: 8px;
      background: #30363d;
      border-radius: 4px;
      overflow: hidden;
      margin-top: 10px;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #238636, #3fb950);
      transition: width 0.5s ease;
    }
    
    .commands-list {
      font-size: 0.8em;
    }
    
    .cmd-item {
      padding: 5px 0;
      border-bottom: 1px solid #21262d;
    }
    
    .cmd-item:last-child { border-bottom: none; }
    
    .cmd-name { color: #f0883e; }
    .cmd-desc { color: #8b949e; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ–¥ï¸ ì¸í”„ë¼ ë§ˆìŠ¤í„°</h1>
      <p class="subtitle">AI ì‹œëŒ€, ê°œë°œìê°€ ì•Œì•„ì•¼ í•  ì¸í”„ë¼ ì§€ì‹ì„ ê²Œì„ìœ¼ë¡œ ë°°ìš°ì„¸ìš”</p>
    </header>
    
    <div class="game-area">
      <div class="terminal">
        <div class="terminal-header">
          <span class="terminal-dot dot-red"></span>
          <span class="terminal-dot dot-yellow"></span>
          <span class="terminal-dot dot-green"></span>
          <span class="terminal-title">server@infra-master:~</span>
        </div>
        <div class="terminal-body" id="output">
          <div class="output-line system">ì¸í”„ë¼ ë§ˆìŠ¤í„° v1.0ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</div>
          <div class="output-line system">------------------------------------------</div>
          <div class="output-line info">ğŸ’¡ 'help'ë¥¼ ì…ë ¥í•˜ë©´ ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
          <div class="output-line"></div>
        </div>
        <div class="input-area">
          <span class="prompt">$</span>
          <input type="text" id="command-input" placeholder="ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." autofocus>
        </div>
      </div>
      
      <div class="sidebar">
        <div class="panel">
          <div class="panel-title">ğŸ“Š ì„œë²„ ìƒíƒœ</div>
          <div class="status-item">
            <span class="status-label">ì›¹ì„œë²„</span>
            <span class="status-value" id="web-status">offline</span>
          </div>
          <div class="status-item">
            <span class="status-label">ë°ì´í„°ë² ì´ìŠ¤</span>
            <span class="status-value" id="db-status">offline</span>
          </div>
          <div class="status-item">
            <span class="status-label">ìºì‹œ</span>
            <span class="status-value" id="cache-status">offline</span>
          </div>
          <div class="status-item">
            <span class="status-label">íŠ¸ë˜í”½</span>
            <span class="status-value" id="traffic">0 req/s</span>
          </div>
        </div>
        
        <div class="panel">
          <div class="panel-title">ğŸ¯ í˜„ì¬ ë¯¸ì…˜</div>
          <div class="mission" id="mission">
            <div class="mission-title">ë ˆë²¨ 1: ì„œë²„ ì‹œì‘í•˜ê¸°</div>
            <p>ì›¹ì„œë²„ë¥¼ ì‹œì‘í•´ì„œ ì„œë¹„ìŠ¤ë¥¼ ì˜¨ë¼ì¸ìœ¼ë¡œ ë§Œë“œì„¸ìš”.</p>
            <div class="hint">
              íŒíŠ¸: <code>start web</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš”
            </div>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progress" style="width: 0%"></div>
          </div>
        </div>
        
        <div class="panel">
          <div class="panel-title">ğŸ“ ëª…ë ¹ì–´</div>
          <div class="commands-list" id="commands-list">
            <div class="cmd-item"><span class="cmd-name">help</span> - <span class="cmd-desc">ëª…ë ¹ì–´ ëª©ë¡</span></div>
            <div class="cmd-item"><span class="cmd-name">status</span> - <span class="cmd-desc">ì„œë²„ ìƒíƒœ í™•ì¸</span></div>
            <div class="cmd-item"><span class="cmd-name">start [ì„œë¹„ìŠ¤]</span> - <span class="cmd-desc">ì„œë¹„ìŠ¤ ì‹œì‘</span></div>
            <div class="cmd-item"><span class="cmd-name">stop [ì„œë¹„ìŠ¤]</span> - <span class="cmd-desc">ì„œë¹„ìŠ¤ ì¤‘ì§€</span></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ê²Œì„ ìƒíƒœ
    const state = {
      level: 1,
      services: {
        web: false,
        db: false,
        cache: false
      },
      traffic: 0,
      completedMissions: [],
      unlockedCommands: ['help', 'status', 'start', 'stop']
    };

    // ë¯¸ì…˜ ë°ì´í„°
    const missions = {
      1: {
        title: 'ë ˆë²¨ 1: ì„œë²„ ì‹œì‘í•˜ê¸°',
        description: 'ì›¹ì„œë²„ë¥¼ ì‹œì‘í•´ì„œ ì„œë¹„ìŠ¤ë¥¼ ì˜¨ë¼ì¸ìœ¼ë¡œ ë§Œë“œì„¸ìš”.',
        hint: '<code>start web</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš”',
        check: () => state.services.web,
        reward: 'ì›¹ì„œë²„ê°€ ì˜¨ë¼ì¸ì´ ë˜ì—ˆìŠµë‹ˆë‹¤! ì´ì œ ì‚¬ìš©ìë“¤ì´ ì ‘ì†í•  ìˆ˜ ìˆì–´ìš”.',
        teach: 'ğŸ’¡ ë°°ìš´ ê°œë…: ì„œë²„ëŠ” í•­ìƒ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ ì‚¬ìš©ìê°€ ì ‘ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. pm2, systemd ê°™ì€ í”„ë¡œì„¸ìŠ¤ ë§¤ë‹ˆì €ê°€ ì´ ì—­í• ì„ í•©ë‹ˆë‹¤.'
      },
      2: {
        title: 'ë ˆë²¨ 2: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°',
        description: 'ë°ì´í„°ë¥¼ ì €ì¥í•  ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‹œì‘í•˜ì„¸ìš”.',
        hint: '<code>start db</code>ë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‹œì‘í•˜ì„¸ìš”',
        check: () => state.services.web && state.services.db,
        reward: 'ë°ì´í„°ë² ì´ìŠ¤ê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤!',
        teach: 'ğŸ’¡ ë°°ìš´ ê°œë…: ì›¹ì„œë²„ëŠ” ë°ì´í„°ë¥¼ DBì— ì €ì¥í•©ë‹ˆë‹¤. MySQL, PostgreSQL, MongoDB ë“±ì´ ìˆì–´ìš”.'
      },
      3: {
        title: 'ë ˆë²¨ 3: ìºì‹œë¡œ ì†ë„ í–¥ìƒ',
        description: 'íŠ¸ë˜í”½ì´ ëŠ˜ì–´ë‚¬ìŠµë‹ˆë‹¤! ìºì‹œë¥¼ í™œì„±í™”í•´ì„œ ì‘ë‹µ ì†ë„ë¥¼ ë†’ì´ì„¸ìš”.',
        hint: '<code>start cache</code>ë¡œ ìºì‹œ ì„œë²„ë¥¼ ì‹œì‘í•˜ì„¸ìš”',
        check: () => state.services.web && state.services.db && state.services.cache,
        reward: 'ìºì‹œê°€ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤! ì‘ë‹µ ì†ë„ê°€ 10ë°° ë¹¨ë¼ì¡Œì–´ìš”.',
        teach: 'ğŸ’¡ ë°°ìš´ ê°œë…: ìºì‹œëŠ” ìì£¼ ìš”ì²­ë˜ëŠ” ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•©ë‹ˆë‹¤. Redis, Memcachedê°€ ëŒ€í‘œì ì´ì—ìš”.'
      },
      4: {
        title: 'ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤!',
        description: 'ê¸°ë³¸ ì¸í”„ë¼ êµ¬ì„±ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!',
        hint: 'ë‹¤ìŒ ì—…ë°ì´íŠ¸ì—ì„œ ë” ë§ì€ ë ˆë²¨ì´ ì¶”ê°€ë©ë‹ˆë‹¤.',
        check: () => false,
        reward: '',
        teach: ''
      }
    };

    // DOM ìš”ì†Œ
    const output = document.getElementById('output');
    const input = document.getElementById('command-input');
    const webStatus = document.getElementById('web-status');
    const dbStatus = document.getElementById('db-status');
    const cacheStatus = document.getElementById('cache-status');
    const trafficEl = document.getElementById('traffic');
    const missionEl = document.getElementById('mission');
    const progressEl = document.getElementById('progress');

    // ì¶œë ¥ í•¨ìˆ˜
    function print(text, className = '') {
      const line = document.createElement('div');
      line.className = 'output-line ' + className;
      line.innerHTML = text;
      output.appendChild(line);
      output.scrollTop = output.scrollHeight;
    }

    // UI ì—…ë°ì´íŠ¸
    function updateUI() {
      webStatus.textContent = state.services.web ? 'online' : 'offline';
      webStatus.className = 'status-value ' + (state.services.web ? 'online' : 'offline');
      
      dbStatus.textContent = state.services.db ? 'online' : 'offline';
      dbStatus.className = 'status-value ' + (state.services.db ? 'online' : 'offline');
      
      cacheStatus.textContent = state.services.cache ? 'online' : 'offline';
      cacheStatus.className = 'status-value ' + (state.services.cache ? 'online' : 'offline');
      
      trafficEl.textContent = state.traffic + ' req/s';
      
      const mission = missions[state.level];
      missionEl.innerHTML = `
        <div class="mission-title">${mission.title}</div>
        <p>${mission.description}</p>
        <div class="hint">íŒíŠ¸: ${mission.hint}</div>
      `;
      
      progressEl.style.width = ((state.level - 1) / 3 * 100) + '%';
    }

    // ë¯¸ì…˜ ì²´í¬
    function checkMission() {
      const mission = missions[state.level];
      if (mission.check()) {
        print('');
        print('âœ… ' + mission.reward, 'success');
        print(mission.teach, 'info');
        print('');
        state.level++;
        
        if (state.level === 2) {
          state.traffic = 10;
        } else if (state.level === 3) {
          state.traffic = 100;
        } else if (state.level === 4) {
          state.traffic = 500;
          print('ğŸ‰ ëª¨ë“  ê¸°ë³¸ ë¯¸ì…˜ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!', 'success');
          print('');
          print('ğŸ“š ë°°ìš´ ë‚´ìš© ì •ë¦¬:', 'info');
          print('  â€¢ ì„œë²„: í•­ìƒ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ ì„œë¹„ìŠ¤ ê°€ëŠ¥ (pm2, systemd)', 'system');
          print('  â€¢ DB: ë°ì´í„° ì˜êµ¬ ì €ì¥ (MySQL, PostgreSQL, MongoDB)', 'system');
          print('  â€¢ ìºì‹œ: ë¹ ë¥¸ ì‘ë‹µì„ ìœ„í•œ ë©”ëª¨ë¦¬ ì €ì¥ì†Œ (Redis)', 'system');
          print('');
          print('ğŸ‘‰ ë‹¤ìŒ ì—…ë°ì´íŠ¸: Docker, ë¡œë“œë°¸ëŸ°ì„œ, CI/CD ë“±', 'info');
        }
        
        updateUI();
      }
    }

    // ëª…ë ¹ì–´ ì²˜ë¦¬
    function processCommand(cmd) {
      const parts = cmd.trim().toLowerCase().split(' ');
      const command = parts[0];
      const arg = parts[1];

      print('$ ' + cmd, 'system');

      switch (command) {
        case 'help':
          print('');
          print('ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´:', 'info');
          print('  help          - ì´ ë„ì›€ë§ í‘œì‹œ');
          print('  status        - ëª¨ë“  ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸');
          print('  start [ì„œë¹„ìŠ¤] - ì„œë¹„ìŠ¤ ì‹œì‘ (web, db, cache)');
          print('  stop [ì„œë¹„ìŠ¤]  - ì„œë¹„ìŠ¤ ì¤‘ì§€');
          print('  clear         - í™”ë©´ ì§€ìš°ê¸°');
          print('');
          break;

        case 'status':
          print('');
          print('ì„œë¹„ìŠ¤ ìƒíƒœ:', 'info');
          print('  ì›¹ì„œë²„:     ' + (state.services.web ? 'ğŸŸ¢ online' : 'ğŸ”´ offline'));
          print('  ë°ì´í„°ë² ì´ìŠ¤: ' + (state.services.db ? 'ğŸŸ¢ online' : 'ğŸ”´ offline'));
          print('  ìºì‹œ:       ' + (state.services.cache ? 'ğŸŸ¢ online' : 'ğŸ”´ offline'));
          print('  íŠ¸ë˜í”½:     ' + state.traffic + ' req/s');
          print('');
          break;

        case 'start':
          if (!arg) {
            print('ì‚¬ìš©ë²•: start [web|db|cache]', 'error');
          } else if (arg === 'web') {
            if (state.services.web) {
              print('ì›¹ì„œë²„ê°€ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.', 'warning');
            } else {
              print('ì›¹ì„œë²„ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...', 'system');
              setTimeout(() => {
                state.services.web = true;
                print('âœ… ì›¹ì„œë²„ê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤! (í¬íŠ¸ 3000)', 'success');
                updateUI();
                checkMission();
              }, 500);
            }
          } else if (arg === 'db') {
            if (!state.services.web) {
              print('âš ï¸ ì›¹ì„œë²„ë¥¼ ë¨¼ì € ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.', 'warning');
            } else if (state.services.db) {
              print('ë°ì´í„°ë² ì´ìŠ¤ê°€ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.', 'warning');
            } else {
              print('ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...', 'system');
              setTimeout(() => {
                state.services.db = true;
                print('âœ… PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤! (í¬íŠ¸ 5432)', 'success');
                updateUI();
                checkMission();
              }, 800);
            }
          } else if (arg === 'cache') {
            if (!state.services.db) {
              print('âš ï¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë¨¼ì € ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.', 'warning');
            } else if (state.services.cache) {
              print('ìºì‹œê°€ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.', 'warning');
            } else {
              print('ìºì‹œ ì„œë²„ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...', 'system');
              setTimeout(() => {
                state.services.cache = true;
                print('âœ… Redis ìºì‹œê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤! (í¬íŠ¸ 6379)', 'success');
                updateUI();
                checkMission();
              }, 600);
            }
          } else {
            print('ì•Œ ìˆ˜ ì—†ëŠ” ì„œë¹„ìŠ¤: ' + arg, 'error');
          }
          break;

        case 'stop':
          if (!arg) {
            print('ì‚¬ìš©ë²•: stop [web|db|cache]', 'error');
          } else if (state.services[arg]) {
            state.services[arg] = false;
            print('ğŸ›‘ ' + arg + ' ì„œë¹„ìŠ¤ê°€ ì¤‘ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.', 'warning');
            updateUI();
          } else {
            print(arg + ' ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì´ ì•„ë‹™ë‹ˆë‹¤.', 'error');
          }
          break;

        case 'clear':
          output.innerHTML = '';
          break;

        case '':
          break;

        default:
          print('ì•Œ ìˆ˜ ì—†ëŠ” ëª…ë ¹ì–´: ' + command, 'error');
          print("'help'ë¥¼ ì…ë ¥í•˜ë©´ ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.", 'system');
      }
    }

    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    input.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        const cmd = input.value;
        input.value = '';
        processCommand(cmd);
      }
    });

    // ì´ˆê¸°í™”
    updateUI();
  </script>
</body>
</html>
